<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <!-- Background -->
  <rect width="800" height="400" fill="#f8f9fa" rx="10" ry="10" />
  
  <!-- Title -->
  <text x="400" y="35" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle">RANDOM FOREST ARCHITECTURE FOR SPOTIFY SONG POPULARITY PREDICTION</text>
  
  <!-- Input Data Section -->
  <rect x="50" y="80" width="130" height="100" fill="#4db6ac" rx="5" ry="5" stroke="#00796b" stroke-width="2" />
  <text x="115" y="110" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="white">INPUT DATA</text>
  <text x="115" y="130" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Spotify Features</text>
  <text x="115" y="145" font-family="Arial" font-size="10" text-anchor="middle" fill="white">(energy, tempo,</text>
  <text x="115" y="160" font-family="Arial" font-size="10" text-anchor="middle" fill="white">danceability, etc.)</text>
  
  <!-- Arrow 1 -->
  <line x1="180" y1="130" x2="210" y2="130" stroke="#000" stroke-width="2" />
  <polygon points="210,130 205,125 205,135" fill="#000" />
  
  <!-- Feature Processing Section -->
  <rect x="210" y="80" width="130" height="100" fill="#7986cb" rx="5" ry="5" stroke="#3f51b5" stroke-width="2" />
  <text x="275" y="110" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="white">PREPROCESSING</text>
  <text x="275" y="135" font-family="Arial" font-size="10" text-anchor="middle" fill="white">One-Hot Encoding</text>
  <text x="275" y="150" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Target Encoding</text>
  <text x="275" y="165" font-family="Arial" font-size="10" text-anchor="middle" fill="white">Label Encoding</text>
  
  <!-- Arrow 2 -->
  <line x1="340" y1="130" x2="370" y2="130" stroke="#000" stroke-width="2" />
  <polygon points="370,130 365,125 365,135" fill="#000" />
  
  <!-- Random Forest Section - RESIZED TO 240x180 -->
  <rect x="370" y="40" width="240" height="180" fill="#a5d6a7" rx="5" ry="5" stroke="#388e3c" stroke-width="2" />
  <text x="490" y="65" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">RANDOM FOREST CLASSIFIER</text>
  
  <!-- Decision Trees - Adjusted for new dimensions -->
  <!-- Tree 1 -->
  <circle cx="415" cy="100" r="12" fill="#1b5e20" stroke="#fff" stroke-width="1" />
  <line x1="415" y1="112" x2="400" y2="135" stroke="#1b5e20" stroke-width="1.5" />
  <line x1="415" y1="112" x2="430" y2="135" stroke="#1b5e20" stroke-width="1.5" />
  <circle cx="400" cy="135" r="8" fill="#4caf50" stroke="#fff" stroke-width="1" />
  <circle cx="430" cy="135" r="8" fill="#4caf50" stroke="#fff" stroke-width="1" />
  <line x1="400" y1="143" x2="390" y2="160" stroke="#1b5e20" stroke-width="1.5" />
  <line x1="400" y1="143" x2="410" y2="160" stroke="#1b5e20" stroke-width="1.5" />
  <line x1="430" y1="143" x2="430" y2="160" stroke="#1b5e20" stroke-width="1.5" />
  <circle cx="390" cy="160" r="5" fill="#81c784" stroke="#fff" stroke-width="1" />
  <circle cx="410" cy="160" r="5" fill="#81c784" stroke="#fff" stroke-width="1" />
  <circle cx="430" cy="160" r="5" fill="#81c784" stroke="#fff" stroke-width="1" />
  
  <!-- Tree 2 -->
  <circle cx="465" cy="100" r="12" fill="#1b5e20" stroke="#fff" stroke-width="1" />
  <line x1="465" y1="112" x2="450" y2="135" stroke="#1b5e20" stroke-width="1.5" />
  <line x1="465" y1="112" x2="480" y2="135" stroke="#1b5e20" stroke-width="1.5" />
  <circle cx="450" cy="135" r="8" fill="#4caf50" stroke="#fff" stroke-width="1" />
  <circle cx="480" cy="135" r="8" fill="#4caf50" stroke="#fff" stroke-width="1" />
  <line x1="450" y1="143" x2="440" y2="160" stroke="#1b5e20" stroke-width="1.5" />
  <line x1="450" y1="143" x2="460" y2="160" stroke="#1b5e20" stroke-width="1.5" />
  <line x1="480" y1="143" x2="480" y2="160" stroke="#1b5e20" stroke-width="1.5" />
  <circle cx="440" cy="160" r="5" fill="#81c784" stroke="#fff" stroke-width="1" />
  <circle cx="460" cy="160" r="5" fill="#81c784" stroke="#fff" stroke-width="1" />
  <circle cx="480" cy="160" r="5" fill="#81c784" stroke="#fff" stroke-width="1" />
  
  <!-- Tree 3 -->
  <circle cx="515" cy="100" r="12" fill="#1b5e20" stroke="#fff" stroke-width="1" />
  <line x1="515" y1="112" x2="500" y2="135" stroke="#1b5e20" stroke-width="1.5" />
  <line x1="515" y1="112" x2="530" y2="135" stroke="#1b5e20" stroke-width="1.5" />
  <circle cx="500" cy="135" r="8" fill="#4caf50" stroke="#fff" stroke-width="1" />
  <circle cx="530" cy="135" r="8" fill="#4caf50" stroke="#fff" stroke-width="1" />
  <line x1="500" y1="143" x2="490" y2="160" stroke="#1b5e20" stroke-width="1.5" />
  <line x1="500" y1="143" x2="510" y2="160" stroke="#1b5e20" stroke-width="1.5" />
  <line x1="530" y1="143" x2="530" y2="160" stroke="#1b5e20" stroke-width="1.5" />
  <circle cx="490" cy="160" r="5" fill="#81c784" stroke="#fff" stroke-width="1" />
  <circle cx="510" cy="160" r="5" fill="#81c784" stroke="#fff" stroke-width="1" />
  <circle cx="530" cy="160" r="5" fill="#81c784" stroke="#fff" stroke-width="1" />
  
  <!-- Tree 4 -->
  <circle cx="565" cy="100" r="12" fill="#1b5e20" stroke="#fff" stroke-width="1" />
  <line x1="565" y1="112" x2="550" y2="135" stroke="#1b5e20" stroke-width="1.5" />
  <line x1="565" y1="112" x2="580" y2="135" stroke="#1b5e20" stroke-width="1.5" />
  <circle cx="550" cy="135" r="8" fill="#4caf50" stroke="#fff" stroke-width="1" />
  <circle cx="580" cy="135" r="8" fill="#4caf50" stroke="#fff" stroke-width="1" />
  <line x1="550" y1="143" x2="540" y2="160" stroke="#1b5e20" stroke-width="1.5" />
  <line x1="550" y1="143" x2="560" y2="160" stroke="#1b5e20" stroke-width="1.5" />
  <line x1="580" y1="143" x2="580" y2="160" stroke="#1b5e20" stroke-width="1.5" />
  <circle cx="540" cy="160" r="5" fill="#81c784" stroke="#fff" stroke-width="1" />
  <circle cx="560" cy="160" r="5" fill="#81c784" stroke="#fff" stroke-width="1" />
  <circle cx="580" cy="160" r="5" fill="#81c784" stroke="#fff" stroke-width="1" />
  
  <text x="490" y="85" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Decision Trees</text>
  
  <!-- Ensemble - adjusted for larger box -->
  <rect x="460" y="190" width="60" height="20" fill="#1b5e20" rx="10" ry="10" />
  <text x="490" y="204" font-family="Arial" font-size="10" text-anchor="middle" fill="white">ENSEMBLE</text>
  
  <!-- Connection lines to Ensemble -->
  <line x1="410" y1="160" x2="460" y2="190" stroke="#1b5e20" stroke-width="1.5" stroke-dasharray="3,2" />
  <line x1="460" y1="160" x2="475" y2="190" stroke="#1b5e20" stroke-width="1.5" stroke-dasharray="3,2" />
  <line x1="510" y1="160" x2="490" y2="190" stroke="#1b5e20" stroke-width="1.5" stroke-dasharray="3,2" />
  <line x1="560" y1="160" x2="520" y2="190" stroke="#1b5e20" stroke-width="1.5" stroke-dasharray="3,2" />
  
  <!-- Arrow 3 - adjusted for larger box -->
  <line x1="610" y1="130" x2="620" y2="130" stroke="#000" stroke-width="2" />
  <polygon points="620,130 615,125 615,135" fill="#000" />
  
  <!-- Output Section -->
  <rect x="620" y="80" width="130" height="100" fill="#ef9a9a" rx="5" ry="5" stroke="#d32f2f" stroke-width="2" />
  <text x="685" y="110" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="white">OUTPUT</text>
  <text x="685" y="130" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Song</text>
  <text x="685" y="150" font-family="Arial" font-size="12" text-anchor="middle" fill="white">Popularity</text>
  <text x="685" y="170" font-family="Arial" font-size="12" text-anchor="middle" fill="white">(0 or 1)</text>
  
  <!-- Feature Importance Section - adjusted for larger RF box -->
  <rect x="370" y="240" width="240" height="100" fill="#ffcc80" rx="5" ry="5" stroke="#ef6c00" stroke-width="2" />
  <text x="490" y="260" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">FEATURE IMPORTANCE</text>
  
  <!-- Feature Bars - adjusted for larger box -->
  <rect x="390" y="280" width="150" height="15" fill="#e65100" rx="2" ry="2" />
  <text x="550" y="292" font-family="Arial" font-size="10" text-anchor="start" fill="#333">danceability</text>
  <rect x="390" y="300" width="120" height="15" fill="#e65100" rx="2" ry="2" />
  <text x="520" y="312" font-family="Arial" font-size="10" text-anchor="start" fill="#333">energy</text>
  <rect x="390" y="320" width="90" height="15" fill="#e65100" rx="2" ry="2" />
  <text x="490" y="332" font-family="Arial" font-size="10" text-anchor="start" fill="#333">tempo</text>
  
  <!-- Connection line from RF to Feature Importance - adjusted -->
  <line x1="490" y1="220" x2="490" y2="240" stroke="#000" stroke-width="2" stroke-dasharray="5,5" />
  
  <!-- Evaluation Metrics -->
  <rect x="620" y="240" width="130" height="100" fill="#90caf9" rx="5" ry="5" stroke="#1976d2" stroke-width="2" />
  <text x="685" y="260" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">EVALUATION</text>
  <text x="685" y="280" font-family="Arial" font-size="10" text-anchor="middle" fill="#333">Accuracy: 98.04%</text>
  <text x="685" y="300" font-family="Arial" font-size="10" text-anchor="middle" fill="#333">Precision: 99%</text>
  <text x="685" y="320" font-family="Arial" font-size="10" text-anchor="middle" fill="#333">Recall: 97%</text>
  
  <!-- Connection line from Output to Evaluation -->
  <line x1="685" y1="180" x2="685" y2="240" stroke="#000" stroke-width="2" stroke-dasharray="5,5" />
</svg>
